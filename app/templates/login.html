<!-- login page -->

{% extends 'base.html' %}
{% block title %}Login{% endblock %}
{% block extra_header%}
    <!-- Javascript for form validation  -->
    <script src="{{url_for('static',filename='login.js')}}" defer></script>
{%endblock%}
{% block content %}
<!-- place the card in the center horizontally -->
<div class="d-flex justify-content-center mt-5" >
    <!-- place the items in a card -->
    <div class="card p-4 shadow " style="width: 25rem;">
        <h3 class="text-center mb-3">Login</h3>
        <form method="POST" id="loginForm">
            {{ form.hidden_tag() }}
            <!-- alert in case of incalid credentials -->
            <div id = "invalidCredentialsAlert" class = "mb-3 d-none alert alert-danger">
                Invalid credentials, please check Username or password !!
            </div>
            <!-- Username input and validation -->
            <div class="mb-3">
                <label for="userName" class="form-label">{{form.user_name.label}}</label>
                <input type="text" class="form-control mb-2" id="userName" name="user_name" placeholder="username">
                <div id ="userNameValidation" class = " custom-validation d-none text-danger"></div>
            </div>
            
            <!-- password input and validation -->
            <div class="mb-3">
                <label for="password" class="form-label">{{form.password.label}}</label>
                <input type="password" class="form-control mb-2" id="password" name="password" placeholder="password">
                <div id="passwordValidation" class = "custom-validation d-none text-danger"></div>
            </div>

            <!-- submit button -->
            <div class="d-grid">
                <button type="submit" class="btn btn-primary mt-3" name="submit">{{form.submit.label}}</button>
            </div>

            <!-- Define url paths and csrf_token to use in external javascript -->
            <script>
                const loginURL="{{url_for('auth.login')}}"
                const csrfToken="{{csrf_token()}}"
            </script>

        </form>

        <!-- link to signup page -->
        <div class="text-center mt-3">
            <small class="">
                Don't have an account? <a href="{{ url_for('auth.signup') }}" class="text-primary">Create one here</a>.
            </small>
        </div>
    </div>
</div>
{% endblock %}
